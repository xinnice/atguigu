<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
</head>

<body>
    <script>
       //引入1
        /* var a = 1;

        function fn() {

            console.log(a); //1

            function fn2() {
                console.log(a); //1
            }
            fn2();
        }
        fn(); */


        //引入2
        var b = 2;

        //函数在声明的时候已经确定了作用域链（作用域链并不完整）
        //作用域链上都是各段代码的变量对象，但是fn并没有调用，所有fn的变量对象并没有生成
        //当fn调用的时候，只是把自己的变量对象添加到了作用域链的头部，完成了整个作用域链
        function fn() {
            console.log(b) //2
        }

        function fn2() {
            var b = 3;
            fn();
        }
        fn2();



        /* 
            作用域链：
                - 作用域链的用途,是保证对 执行环境有权访问的所有变量和函数的  有序访问。
                - 作用域链上都是变量对象组成的。
                - 作用域链是在函数声明的时候就确定了，但是因为函数没有调用，所以作用域链并不完整
                - 当函数执行的时候，执行上下文中创建了变量对象，把当前的变量对象添加到了已经存在作用域链的最前端，完成整个作用域链
                - 作用域链的最前端是当前的执行上下文的变量对象，最末端是window对象
                - 解析变量的时候是沿着作用域链一级一级搜索的过程，如果到window也没有找到，则直接报错（标识符 is not defined)
        
        
        */
    </script>
</body>

</html>