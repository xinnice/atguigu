<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
</head>

<body>
    <button id="btn">按钮</button>
    <script src="myajax.js"></script>
    <script>
        let xhr = new XMLHttpRequest()
        let btn = document.querySelector('#btn')
        btn.onclick = function () {
            myAjax({
                url: 'http://127.0.0.1:7500/test',
                type: 'post',
                data: {
                    username: 'fwkt',
                    age: 29
                },
                timeout: 10,
                dataType: 'json',
                complete: function () {
                    console.log('请求完成')
                },
                success: function (data) {
                    console.log(data)
                },
                error: function (xhr) {
                    console.log(xhr)
                },
                beforeSend: function () {
                    console.log('执行beforeSend');
                    // return false
                }
            })
        }
    </script>
</body>

</html>